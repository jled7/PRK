/*
 * PK5-II.pdf Adibidea
 * Semaforoekin adibidea - eredua
 *
 * Data: 2017-10-28
 */

const Max = 3
range Int = 0..Max

SEMAFOROA(N=0) = SEMA[N],
SEMA[b:Int]    = (			  gora->SEMA[b+1]
				 |when(b>0) behera->SEMA[b-1]
				 ).

P = (mutex.behera->kritikoa->mutex.gora->P).

||SEMADEMO = (p[1..3]:P||{p[1..3]}::mutex:SEMAFOROA(1)).
